<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--[if lt ie 7]> <html class="ie ie6" lang="zh-CN"> <![endif]-->
<!--[if ie 7]>    <html class="ie ie7" lang="zh-CN"> <![endif]-->
<!--[if ie 8]>    <html class="ie ie8" lang="zh-CN"> <![endif]-->
<!--[if gt ie 8]><!-->  <html> <!--<![endif]-->
 <head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<!--[if lt ie 7]> <title>IE 7 以下版本</title> <![endif]-->
<!--[if ie 7]> <title>IE 7</title> <![endif]-->
<!--[if ie 8]> <title>IE 8</title> <![endif]-->
<!--[if gt ie 8]><title>IE 8 以上版本</title><![endif]-->
		<meta name="Generator" content="EditPlus"/>
		<meta name="Author" content=""/>
		<meta name="Keywords" content=""/>
		<meta name="Description" content=""/>
	</head>

	<body>
	<div id="testDiv" style="background-color:#ccc;">
	
	</div>
	<script type="text/javascript">
	<!--
	
	var testDiv = document.getElementById('testDiv');
		var str = '';
		for(var i=0;i<1000;i++){
			str += i+'<br/>';
		}
		testDiv.innerHTML = str;
	window.onload = function(){
		/*
		在不声明Doctype的情况下，IE默认又是Quirks Mode,document.compatMode = 'BackCompat';,
		其它为 "CSS1Compat"
		*/
		alert(document.compatMode);
		/*
		IE里window没有innerHeight属性，chrome和clientHeight相同
		*/
		alert(window.innerHeight);
		if(document.compatMode == "CSS1Compat"){
			var clientHeight = document.documentElement.clientHeight;
			/*
			IE下offsetHeight == clientHeight
			*/
			var offsetHeight = document.documentElement.offsetHeight;
			var scrollHeight = document.documentElement.scrollHeight;
		}else{
			/*
			chrome下offsetHeigth == scrollHeight
			*/
			var clientHeight = document.body.clientHeight;
			var offsetHeight = document.body.offsetHeight;
			var scrollHeight = document.body.scrollHeight;
		}
		
		alert(clientHeight+'  '+offsetHeight+'  '+scrollHeight);
		
		function setVal(e){
			e = e || window.event;
			/*
			firefox里用detail，其它用wheelDelta（正值向上，负值向下）
			*/
			//alert(testDiv.offset.top + e.wheelDelta + 'px');
			testDiv.style.top = parseFloat(testDiv.style.top) + e.wheelDelta + 'px';
		}
		var mousewheelevt=(/Firefox/i.test(navigator.userAgent))? "DOMMouseScroll" : "mousewheel" //FF doesn't recognize mousewheel as of FF3.x  
   
		if (document.attachEvent) //if IE (and Opera depending on user setting)  
			document.attachEvent("on"+mousewheelevt, function(e){alert('Mouse wheel movement detected!')})  
		else if (document.addEventListener) //WC3 browsers  
			document.addEventListener(mousewheelevt, function(e){alert('Mouse wheel movement detected!')}, false)  
	}
	//-->
	</script>
	</body>
</html>
