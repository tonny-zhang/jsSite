(function(d){function n(a,b,e,c){c={data:c||(b?b.data:{}),_wrap:b?b._wrap:null,tmpl:null,parent:b||null,nodes:[],calls:A,nest:B,wrap:C,html:D,update:E};a&&d.extend(c,a,{nodes:[],parent:b});if(e)c.tmpl=e,c._ctnt=c._ctnt||c.tmpl(d,c),c.key=++o,(r.length?p:j)[o]=c;return c}function k(a,b,e){var c,e=e?d.map(e,function(b){return typeof b==="string"?a.key?b.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+m+'="'+a.key+'" $2'):b:k(b,a,b._ctnt)}):a;if(b)return e;e=e.join("");e.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,
function(a,b,e,i){c=d(e).get();u(c);b&&(c=s(b).concat(c));i&&(c=c.concat(s(i)))});return c?c:s(e)}function s(a){var b=document.createElement("div");b.innerHTML=a;return d.makeArray(b.childNodes)}function v(a){return new Function("jQuery","$item","var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+d.trim(a).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,
function(b,a,c,g,h,f,i){b=d.tmpl.tag[c];if(!b)throw"Template command not found: "+c;c=b._default||[];f&&!/\w$/.test(h)&&(h+=f,f="");h?(h=t(h),i=i?","+t(i)+")":f?")":"",i=f?h.indexOf(".")>-1?h+f:"("+h+").call($item"+i:h,f=f?i:"(typeof("+h+")==='function'?("+h+").call($item):("+h+"))"):f=i=c.$1||"null";g=t(g);return"');"+b[a?"close":"open"].split("$notnull_1").join(h?"typeof("+h+")!=='undefined' && ("+h+")!=null":"true").split("$1a").join(f).split("$1").join(i).split("$2").join(g?g.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,
function(a,b,c,d){return(d=d?","+d+")":c?")":"")?"("+b+").call($item"+d:a}):c.$2||"")+"_.push('"})+"');}return _;")}function w(a,b){a._wrap=k(a,true,d.isArray(b)?b:[x.test(b)?b:d(b).html()]).join("")}function t(a){return a?a.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function u(a){function b(a){function b(a){var F;a+=e;F=h[a]=h[a]||n(f,j[f.parent.key+e]||f.parent,null,true),f=F}var c,g=a,f,i;if(i=a.getAttribute(m)){for(;g.parentNode&&(g=g.parentNode).nodeType===1&&!(c=g.getAttribute(m)););if(c!==
i){g=g.parentNode?g.nodeType===11?0:g.getAttribute(m)||0:0;if(!(f=j[i]))f=p[i],f=n(f,j[g]||p[g],null,true),f.key=++o,j[o]=f;l&&b(i)}a.removeAttribute(m)}else if(l&&(f=d.data(a,"tmplItem")))b(f.key),j[f.key]=f,g=(g=d.data(a.parentNode,"tmplItem"))?g.key:0;if(f){for(c=f;c&&c.key!=g;)c.nodes.push(a),c=c.parent;delete f._ctnt;delete f._wrap;d.data(a,"tmplItem",f)}}var e="_"+l,c,g,h={},f,i,k;for(f=0,i=a.length;f<i;f++)if((c=a[f]).nodeType===1){g=c.getElementsByTagName("*");for(k=g.length-1;k>=0;k--)b(g[k]);
b(c)}}function A(a,b,d,c){if(!a)return r.pop();r.push({_:a,tmpl:b,item:this,data:d,options:c})}function B(a,b,e){return d.tmpl(d.template(a),b,e,this)}function C(a,b){var e=a.options||{};e.wrapped=b;return d.tmpl(d.template(a.tmpl),a.data,e,a.item)}function D(a,b){var e=this._wrap;return d.map(d(d.isArray(e)?e.join(""):e).filter(a||"*"),function(a){if(b)a=a.innerText||a.textContent;else{var d;if(!(d=a.outerHTML))d=document.createElement("div"),d.appendChild(a.cloneNode(true)),d=d.innerHTML;a=d}return a})}
function E(){var a=this.nodes;d.tmpl(null,null,null,this).insertBefore(a[0]);d(a).remove()}var y=d.fn.domManip,m="_tmplitem",x=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,j={},p={},q,z={key:0,data:{}},o=0,l=0,r=[];d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){d.fn[a]=function(e){var c=[],e=d(e),g,h,f;g=this.length===1&&this[0].parentNode;q=j||{};if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1)e[b](this[0]),c=this;
else{for(h=0,f=e.length;h<f;h++)l=h,g=(h>0?this.clone(true):this).get(),d.fn[b].apply(d(e[h]),g),c=c.concat(g);l=0;c=this.pushStack(c,a,e.selector)}e=q;q=null;d.tmpl.complete(e);return c}});d.fn.extend({tmpl:function(a,b,e){return d.tmpl(this[0],a,b,e)},tmplItem:function(){return d.tmplItem(this[0])},template:function(a){return d.template(a,this[0])},domManip:function(a,b,e){if(a[0]&&a[0].nodeType){for(var c=d.makeArray(arguments),g=a.length,h=0,f;h<g&&!(f=d.data(a[h++],"tmplItem")););g>1&&(c[0]=
[d.makeArray(a)]);f&&l&&(c[2]=function(a){d.tmpl.afterManip(this,a,e)});y.apply(this,c)}else y.apply(this,arguments);l=0;!q&&d.tmpl.complete(j);return this}});d.extend({tmpl:function(a,b,e,c){var g=!c;if(g)c=z,a=d.template[a]||d.template(null,a),p={};else if(!a)return a=c.tmpl,j[c.key]=c,c.nodes=[],c.wrapped&&w(c,c.wrapped),d(k(c,null,c.tmpl(d,c)));if(!a)return[];typeof b==="function"&&(b=b.call(c||{}));e&&e.wrapped&&w(e,e.wrapped);b=d.isArray(b)?d.map(b,function(b){return b?n(e,c,a,b):null}):[n(e,
c,a,b)];return g?d(k(c,null,b)):b},tmplItem:function(a){var b;for(a instanceof d&&(a=a[0]);a&&a.nodeType===1&&!(b=d.data(a,"tmplItem"))&&(a=a.parentNode););return b||z},template:function(a,b){return b?(typeof b==="string"?b=v(b):b instanceof d&&(b=b[0]||{}),b.nodeType&&(b=d.data(b,"tmpl")||d.data(b,"tmpl",v(b.innerHTML))),typeof a==="string"?d.template[a]=b:b):a?typeof a!=="string"?d.template(null,a):d.template[a]||d.template(null,x.test(a)?a:d(a)):null},encode:function(a){return(""+a).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});
d.extend(d.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},
open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(){j={}},afterManip:function(a,b,e){var c=b.nodeType===11?d.makeArray(b.childNodes):b.nodeType===1?[b]:[];e.call(a,b);u(c);l++}})})(jQuery);
