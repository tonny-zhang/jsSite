<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--[if lt ie 7]> <html class="ie ie6" lang="zh-CN"> <![endif]-->
<!--[if ie 7]>    <html class="ie ie7" lang="zh-CN"> <![endif]-->
<!--[if ie 8]>    <html class="ie ie8" lang="zh-CN"> <![endif]-->
<!--[if gt ie 8]><!-->  <html> <!--<![endif]-->
 <head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<!--[if lt ie 7]> <title>IE 7 以下版本</title> <![endif]-->
<!--[if ie 7]> <title>IE 7</title> <![endif]-->
<!--[if ie 8]> <title>IE 8</title> <![endif]-->
<!--[if gt ie 8]><title>IE 8 以上版本</title><![endif]-->
		<meta name="Generator" content="EditPlus"/>
		<meta name="Author" content=""/>
		<meta name="Keywords" content=""/>
		<meta name="Description" content=""/>
	</head>

	<body>
	<iframe style="width:400px;height:300px;" scrolling="no" id="testIframe"></iframe><br/>
	<input type="text" value="test" id="test_text"/>
	<input type="button" value="send" onclick="send()"/>
	<textarea id="result" style="width:400px"></textarea>
	<script type="text/javascript">
	<!--
		var $ = function(id){
			return document.getElementById(id);
		}
		function getOtherDomain(){
			var domains = {
				'js.zk.com': 'js.tonny.com',
				'js.tonny.com': 'js.zk.com'
			}
			return 'http://'+domains[location.host];
		}
		
		var iframe = $('testIframe');
		var iframeUrl = getOtherDomain()+'/crossDomain/iframeProxy/domain-b.html';
		iframe.src = iframeUrl
		function send(){
			iframe.src = iframeUrl + '#' + $('test_text').value;
		}
		function message(){
			var args = [].slice.call(arguments);
			args.unshift('receive message from domain-b:')
			typeof console != 'undefined' && ( console.log.apply(console,args));
			$('result').value=args.join(' ')
		}
	//-->
	</script>
	</body>
</html>
